<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">

<!-- GitHub Pages base URL -->
<base href="https://benkumhene.github.io/siaw-herbal/">

<title>Benkumhene Herbal Shop</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #000;
    color: #fff;
}

header {
    text-align: center;
    padding: 20px;
    background: #111;
    border-bottom: 2px solid #2ecc71;
}

header a {
    color: #2ecc71;
    text-decoration: none;
}

header a:hover {
    text-decoration: underline;
}

h1 { color: #2ecc71; margin: 0; }

.container {
    max-width: 1000px;
    margin: auto;
    padding: 20px;
}

.form-box {
    background: #111;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
}

label { display: block; margin-top: 10px; }

input {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    border-radius: 4px;
    border: none;
}

button {
    margin-top: 15px;
    padding: 10px;
    width: 100%;
    background: #2ecc71;
    color: #000;
    border: none;
    border-radius: 4px;
    font-size: 16px;
    cursor: pointer;
}

button:hover { background: #27ae60; }

.print-btn {
    background: #3498db;
    margin-bottom: 10px;
}

.print-btn:hover { background: #2980b9; }

table {
    width: 100%;
    border-collapse: collapse;
    background: #111;
}

th, td {
    padding: 10px;
    border: 1px solid #333;
    text-align: center;
}

th {
    background: #2ecc71;
    color: #000;
}

.summary {
    margin-top: 15px;
    font-size: 18px;
    text-align: right;
    color: #2ecc71;
}

footer {
    text-align: center;
    padding: 15px;
    background: #111;
    border-top: 1px solid #2ecc71;
}

/* PRINT MODE */
@media print {
    body { background: #fff; color: #000; }
    .form-box, .print-btn, footer { display: none; }
    table { background: #fff; }
}
</style>
</head>

<body>

<header>
    <h1>Benkumhene Herbal Shop</h1>
    <p>
        Sales & Receipt System |
        <a href="https://benkumhene.github.io/siaw-herbal/" target="_blank">
            Official Website
        </a>
    </p>
</header>

<div class="container">

<div class="form-box">
    <h2>Create Order</h2>

    <label>Customer Name</label>
    <input type="text" id="customer">

    <label>Product Name</label>
    <input type="text" id="product">

    <label>Quantity</label>
    <input type="number" id="quantity">

    <label>Price per Item</label>
    <input type="number" id="price">

    <button onclick="addOrder()">Add Order & Print Receipt</button>
</div>

<h2>Sales Records</h2>

<button class="print-btn" onclick="printSales()">Print All Sales</button>

<table>
<thead>
<tr>
    <th>Invoice</th>
    <th>Date</th>
    <th>Customer</th>
    <th>Product</th>
    <th>Qty</th>
    <th>Price</th>
    <th>Total</th>
</tr>
</thead>
<tbody id="salesTable"></tbody>
</table>

<div class="summary" id="grandTotal"></div>

</div>

<footer>
    <p>
        © 2026 Benkumhene Herbal Shop |
        <a href="https://benkumhene.github.io/siaw-herbal/" target="_blank">
            https://benkumhene.github.io/siaw-herbal/
        </a>
    </p>
</footer>

<script>
let sales = JSON.parse(localStorage.getItem("sales")) || [];

function generateInvoice() {
    return "INV-" + Date.now();
}

function renderSales() {
    const table = document.getElementById("salesTable");
    table.innerHTML = "";
    let grandTotal = 0;

    sales.forEach(sale => {
        grandTotal += sale.total;
        table.innerHTML += `
            <tr>
                <td>${sale.invoice}</td>
                <td>${sale.date}</td>
                <td>${sale.customer}</td>
                <td>${sale.product}</td>
                <td>${sale.quantity}</td>
                <td>${sale.price}</td>
                <td>${sale.total}</td>
            </tr>`;
    });

    document.getElementById("grandTotal").innerText =
        "Grand Total Sales: ? " + grandTotal.toFixed(2);
}

function addOrder() {
    const customer = customerInput.value;
    const product = productInput.value;
    const quantity = Number(quantityInput.value);
    const price = Number(priceInput.value);

    if (!customer || !product || !quantity || !price) {
        alert("Please fill all fields");
        return;
    }

    const sale = {
        invoice: generateInvoice(),
        date: new Date().toLocaleString(),
        customer,
        product,
        quantity,
        price,
        total: quantity * price
    };

    sales.push(sale);
    localStorage.setItem("sales", JSON.stringify(sales));
    renderSales();
    printReceipt(sale);
    clearInputs();
}

function printReceipt(sale) {
    const receipt = `
        <h2>Benkumhene Herbal Shop</h2>
        <p><strong>Invoice:</strong> ${sale.invoice}</p>
        <p><strong>Date:</strong> ${sale.date}</p>
        <hr>
        <p><strong>Customer:</strong> ${sale.customer}</p>
        <p><strong>Product:</strong> ${sale.product}</p>
        <p><strong>Quantity:</strong> ${sale.quantity}</p>
        <p><strong>Price:</strong> ? ${sale.price}</p>
        <h3>Total: ? ${sale.total}</h3>
        <hr>
        <p>Website: https://benkumhene.github.io/siaw-herbal/</p>
        <p>Thank you for your patronage!</p>
    `;

    const win = window.open("", "", "width=400,height=600");
    win.document.write(receipt);
    win.print();
    win.close();
}

function printSales() {
    window.print();
}

function clearInputs() {
    customerInput.value = "";
    productInput.value = "";
    quantityInput.value = "";
    priceInput.value = "";
}

const customerInput = document.getElementById("customer");
const productInput = document.getElementById("product");
const quantityInput = document.getElementById("quantity");
const priceInput = document.getElementById("price");

renderSales();
</script>

</body>
</html>
